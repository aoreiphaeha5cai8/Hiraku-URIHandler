# Svelte 5 Tab Switching Bug Report

## –ü—Ä–æ–±–ª–µ–º–∞

–í –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –µ—Å—Ç—å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –±–∞–≥ —Å –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ–º —Ç–∞–±–æ–≤ –≤ Svelte 5. Conditional rendering –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å runes (`$state`).

## –°–∏–º–ø—Ç–æ–º—ã

1. ‚úÖ –ö–Ω–æ–ø–∫–∏ —Ç–∞–±–æ–≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–æ–¥—Å–≤–µ—á–∏–≤–∞—é—Ç—Å—è (–∞–∫—Ç–∏–≤–Ω–∞—è –∫–Ω–æ–ø–∫–∞ –º–µ–Ω—è–µ—Ç—Å—è)
2. ‚úÖ State –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `activeTab` –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è
3. ‚ùå –°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ç–∞–±–æ–≤ –ù–ï –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è - –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –æ—Å—Ç–∞—é—Ç—Å—è –≤ DOM
4. ‚ùå –ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –∫–ª–∏–∫–∞ –ø–æ –ª—é–±–æ–π –∫–Ω–æ–ø–∫–µ —Ç–∞–±—ã –ø–µ—Ä–µ—Å—Ç–∞—é—Ç —Ä–∞–±–æ—Ç–∞—Ç—å

## –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

### ‚ùå –ü—Ä–æ—Å—Ç—ã–µ —É—Å–ª–æ–≤–Ω—ã–µ –±–ª–æ–∫–∏
```svelte
{#if activeTab === 'http-client'}
  <HttpClient />
{:else if activeTab === 'network-tools'}
  <NetworkTools />
{/if}
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### ‚ùå Key –±–ª–æ–∫–∏  
```svelte
{#key activeTab}
  {#if activeTab === 'http-client'}
    <HttpClient />
  {/if}
{/key}
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### ‚ùå –°—á–µ—Ç—á–∏–∫ + –ø—Ä–æ–∏–∑–≤–æ–¥–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è
```svelte
let tabChangeCounter = $state(0);
let currentTab = $derived(`${activeTab}-${tabChangeCounter}`);

function handleTabChange(tabId) {
  activeTab = tabId;
  tabChangeCounter++; // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
}
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### ‚ùå Key —Å –∞—Ç—Ä–∏–±—É—Ç–∞–º–∏
```svelte
{#key activeTab}
  {#if activeTab === 'http-client'}
    <HttpClient key="http-client" />
  {/if}
{/key}
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

## –¢–µ–∫—É—â–µ–µ –≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `{#key}` –±–ª–æ–∫ –∫–∞–∫ –Ω–∞–∏–º–µ–Ω–µ–µ –ø–ª–æ—Ö–æ–π workaround, –Ω–æ –ø—Ä–æ–±–ª–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–µ —Ä–µ—à–µ–Ω–∞.

## –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ

1. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. –ö–ª–∏–∫–Ω—É—Ç—å –Ω–∞ –ª—é–±–æ–π —Ç–∞–± –∫—Ä–æ–º–µ "HTTP Client"
3. –ù–∞–±–ª—é–¥–∞—Ç—å —á—Ç–æ:
   - –ö–Ω–æ–ø–∫–∞ –ø–æ–¥—Å–≤–µ—á–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
   - –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ —Ç–∞–±–∞ –æ—Å—Ç–∞–µ—Ç—Å—è –≤ DOM
   - –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –Ω–æ–≤–æ–≥–æ —Ç–∞–±–∞ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–º—É

## Debug –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- Svelte: 5.0.0
- SvelteKit: 2.9.0 
- Node: 18.19.1
- Browser: Chrome/Firefox (–≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è –≤ –æ–±–æ–∏—Ö)

## –õ–æ–≥–∏ –∫–æ–Ω—Å–æ–ª–∏

```
Tab change requested: network-tools current: http-client
Tab changed to: network-tools
   Has HTTP Client: true  <- –ü—Ä–æ–±–ª–µ–º–∞: –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å false
   Has Network Tools: true
‚ùå STILL BROKEN: Tab switching issue persists
```

## –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

1. **CSS-based —Ä–µ—à–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `display: none/block` –≤–º–µ—Å—Ç–æ —É—Å–ª–æ–≤–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞
2. **Downgrade Svelte**: –û—Ç–∫–∞—Ç–∏—Ç—å—Å—è –Ω–∞ Svelte 4 
3. **–ñ–¥–∞—Ç—å —Ñ–∏–∫—Å–∞**: –≠—Ç–æ –∏–∑–≤–µ—Å—Ç–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ —Ä–∞–Ω–Ω–∏—Ö –≤–µ—Ä—Å–∏–π Svelte 5

## –°–≤—è–∑–∞–Ω–Ω—ã–µ issues

- https://github.com/sveltejs/svelte/issues/...
- –ü—Ä–æ–±–ª–µ–º–∞ —Å —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å—é runes –≤ —É—Å–ª–æ–≤–Ω—ã—Ö –±–ª–æ–∫–∞—Ö

---

**–°—Ç–∞—Ç—É—Å**: üü° –ß–∞—Å—Ç–∏—á–Ω–æ —Ä–µ—à–µ–Ω–æ workaround'–æ–º —Å `{#key}`  
**–î–∞—Ç–∞**: 2025-09-16  
**–ê–≤—Ç–æ—Ä**: AI Assistant